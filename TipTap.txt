import { EditorContent, useEditor } from "@tiptap/react";
import SectionBase from "../common/form/SectionBase";
import MenuBar from "./MenuBar";
import initialTextContentHTLM from "@/constants/initialTextContentHTML";
import editorStyleConfig from "@/config/tiptap/styleConfig";
import extensionsConfig from "@/config/tiptap/ExtensionConfig";

const Tiptap = () => {
  const editor = useEditor({
    extensions: extensionsConfig,
    content: initialTextContentHTLM,
  });

  if (!editor) return null;

  console.log("1", editor.getJSON());
  console.log(editor.view.state.doc.toJSON());

  return (
    <SectionBase title="Editor" icon="📝" id="editor">
      <MenuBar editor={editor} />
      <EditorContent editor={editor} className={editorStyleConfig} />
    </SectionBase>
  );
};

export default Tiptap;
